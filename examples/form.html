<!DOCTYPE html>
<html lang="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试一波表格</title>
    <script src="https://cdn.staticfile.org/vue/2.6.11/vue.js"></script>
    <!-- 引入样式 -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <link rel="stylesheet" href="../lib/patpet-crud.css" />
    <script src="../lib/patpet-crud.umd.min.js"></script>
  </head>
  <body>
    <div id="app">
      <crud
        ref="crud"
        v-model="form"
        :page="page"
        :loading="loading"
        :option="option"
        :before-open="beforeOpen"
        :tableData="data"
        :query.sync="query"
        :permission="permissionList"
        :on-filtered="onFiltered"
        @row-click="rowClick"
        @row-dblclick="rowDblclick"
        @sort-change="sortChange"
        @row-save="submit"
        @row-update="submit"
        @row-delete="rowDelete"
        @search-change="searchChange"
        @search-reset="searchReset"
        @selection-change="selectionChange"
        @current-change="currentChange"
        @size-change="sizeChange"
        @refresh-change="refreshChange"
        @on-load="onLoad"
      >
        <!-- 顶部搜索栏插槽测试 -->
        <template slot="useDisplaySearch">
          <div><el-button type="primary">我成按钮啦 </el-button></div>
        </template>
        <template v-slot:sexSearch="{ size, disabled }">
          <el-input
            v-model="query.sex"
            :size="size"
            :disabled="disabled"
            placeholder="我成input了"
          ></el-input>
        </template>
        <!-- tableHeader插槽测试 -->
        <!-- <template #tableHeader> tableHeader插槽测试 </template> -->
        <!-- tableFooter插槽测试 -->
        <!-- <template #tableFooter>tableFooter插槽测试</template> -->
        <!-- 顶部插槽测试 -->
        <template #muneLeft>
          <el-button type="primary" size="small" @click="to_document"
            >我是文档</el-button
          >
        </template>
        <template #muneRight>
          <el-button type="primary" size="small">右边的测试按钮</el-button>
        </template>
        <!-- 表单插槽测试 -->
        <template v-slot:sexForm="{ disabled }">
          <el-button type="primary" :disabled="disabled"
            >用插槽告诉你我的性别</el-button
          >
        </template>
        <!-- 表格空数据插槽提示 -->
        <!-- <template #empty> 我是空数据提示 </template> -->
        <!-- 表格插槽测试 -->
        <template v-slot:name="{ row, index }"
          >{{ index }}{{ row.name }}
        </template>
        <!-- 表格复杂表头插槽测试 -->
        <template v-slot:inComming="{ row, index }">
          卧槽，复杂表头插槽：{{ row.inComming }}{{ index }}
        </template>
        <!-- 表单复杂表头插槽测试 -->
        <template v-slot:hahaForm> 复杂表头会影响表单插槽吗 </template>
        <!-- 搜索栏复杂表头插槽测试 -->
        <template slot="laobaSearch">卧槽，老八</template>
        <!-- 操作栏按钮插槽测试 -->
        <template v-slot:menuBtn="{ row, index }">
          <el-button
            type="text"
            size="mini"
            icon="el-icon-check"
            @click="test(row, index)"
          >
            测试
          </el-button>
        </template>
        <!-- 行展开测试 -->
        <template v-slot:expand="{ row }">
          <div>来，给他整个活！忽略~ ：{{ row.name }}</div>
        </template>
      </crud>
    </div>
  </body>
  <script>
    const pickerOptions = {
      shortcuts: [
        {
          text: "今天",
          onClick(picker) {
            picker.$emit("pick", new Date());
          },
        },
      ],
    };
    new Vue({
      el: "#app",
      data() {
        return {
          // 修狗狗 http://www.liulongbin.top:3006/uploads/1659410084298_4f2c768e9e1643d1ae762efc313d140a.jpg
          // 修猫猫 http://www.liulongbin.top:3006/uploads/1659410093045_f21e01061b914120a6feb61d0f4fefe9.jpg
          testComValue: "",
          componentsName: "testCom",
          loading: true,
          form: {},
          formOption: {
            size: "small",
            detail: true,
            labelWidth: 120,
            column: [
              {
                label: "姓名",
                prop: "name",
                slot: true,
                span: 24,
                rules: [
                  {
                    required: false,
                    message: "请输入姓名好吗？",
                    trigger: "blur",
                  },
                ],
              },
              {
                label: "姓名1",
                prop: "name1",
                rules: [
                  {
                    required: true,
                    message: "请输入姓名好吗？",
                    trigger: "blur",
                  },
                ],
              },
              {
                label: "专门用来消失的",
                prop: "useDisplay",
                display: false,
                labelWidth: 120,
              },
              {
                label: "密码框",
                prop: "password",
                type: "password",
              },
              {
                label: "性别",
                prop: "sex",
                type: "select",
                filterable: true,
                dataType: "number",
                value: 1,
                dicData: [
                  {
                    label: "男",
                    value: 1,
                  },
                  {
                    label: "女",
                    value: 0,
                  },
                  {
                    label: "谢尔比",
                    value: 2,
                  },
                ],
              },
              {
                label: "下拉框但远程搜索",
                prop: "selectRemote",
                props: {
                  label: "label",
                  value: "key",
                },
                labelWidth: 140,
                type: "select",
                multiple: true,
                allowCreate: true,
                dicData: [],
                filterable: true,
                remote: true,
                remoteMethod: (val) => {
                  this.selectRemoteMethod(val);
                },
                loading: false,
              },

              {
                label: "年龄",
                prop: "age",
                type: "number",
                min: 1,
                max: 150,
                rules: [
                  {
                    required: true,
                    message: "请输入年龄",
                    trigger: "blur",
                  },
                ],
              },
              {
                label: "单选框但按钮",
                prop: "radio",
                labelWidth: 120,
                type: "radio",
                showType: "button",
                // disabled: true,
                value: 1,
                dicData: [
                  {
                    label: "选项1",
                    value: 1,
                  },
                  {
                    label: "选项2",
                    value: 2,
                  },
                ],
              },
              {
                label: "多选框",
                prop: "checkbox",
                type: "checkbox",
                dataType: "array",
                value: [2],
                dicData: [
                  {
                    label: "选项1",
                    value: 1,
                  },
                  {
                    label: "选项2",
                    value: 2,
                  },
                ],
              },
              {
                label: "级联选择器",
                prop: "cascader",
                type: "cascader",
                filterable: true,
                multiple: true,
                dicData: [
                  {
                    value: "zhinan",
                    label: "指南",
                    children: [
                      {
                        value: "shejiyuanze",
                        label: "设计原则",
                        children: [
                          {
                            value: "yizhi",
                            label: "一致",
                          },
                          {
                            value: "fankui",
                            label: "反馈",
                          },
                          {
                            value: "xiaolv",
                            label: "效率",
                          },
                          {
                            value: "kekong",
                            label: "可控",
                          },
                        ],
                      },
                      {
                        value: "daohang",
                        label: "导航",
                        children: [
                          {
                            value: "cexiangdaohang",
                            label: "侧向导航",
                          },
                          {
                            value: "dingbudaohang",
                            label: "顶部导航",
                          },
                        ],
                      },
                    ],
                  },
                  {
                    value: "zujian",
                    label: "组件",
                    children: [
                      {
                        value: "basic",
                        label: "Basic",
                        children: [
                          {
                            value: "layout",
                            label: "Layout 布局",
                          },
                          {
                            value: "color",
                            label: "Color 色彩",
                          },
                          {
                            value: "typography",
                            label: "Typography 字体",
                          },
                          {
                            value: "icon",
                            label: "Icon 图标",
                          },
                          {
                            value: "button",
                            label: "Button 按钮",
                          },
                        ],
                      },
                      {
                        value: "form",
                        label: "Form",
                        children: [
                          {
                            value: "radio",
                            label: "Radio 单选框",
                          },
                          {
                            value: "checkbox",
                            label: "Checkbox 多选框",
                          },
                          {
                            value: "input",
                            label: "Input 输入框",
                          },
                          {
                            value: "input-number",
                            label: "InputNumber 计数器",
                          },
                          {
                            value: "select",
                            label: "Select 选择器",
                          },
                          {
                            value: "cascader",
                            label: "Cascader 级联选择器",
                          },
                          {
                            value: "switch",
                            label: "Switch 开关",
                          },
                          {
                            value: "slider",
                            label: "Slider 滑块",
                          },
                          {
                            value: "time-picker",
                            label: "TimePicker 时间选择器",
                          },
                          {
                            value: "date-picker",
                            label: "DatePicker 日期选择器",
                          },
                          {
                            value: "datetime-picker",
                            label: "DateTimePicker 日期时间选择器",
                          },
                          {
                            value: "upload",
                            label: "Upload 上传",
                          },
                          {
                            value: "rate",
                            label: "Rate 评分",
                          },
                          {
                            value: "form",
                            label: "Form 表单",
                          },
                        ],
                      },
                      {
                        value: "data",
                        label: "Data",
                        children: [
                          {
                            value: "table",
                            label: "Table 表格",
                          },
                          {
                            value: "tag",
                            label: "Tag 标签",
                          },
                          {
                            value: "progress",
                            label: "Progress 进度条",
                          },
                          {
                            value: "tree",
                            label: "Tree 树形控件",
                          },
                          {
                            value: "pagination",
                            label: "Pagination 分页",
                          },
                          {
                            value: "badge",
                            label: "Badge 标记",
                          },
                        ],
                      },
                      {
                        value: "notice",
                        label: "Notice",
                        children: [
                          {
                            value: "alert",
                            label: "Alert 警告",
                          },
                          {
                            value: "loading",
                            label: "Loading 加载",
                          },
                          {
                            value: "message",
                            label: "Message 消息提示",
                          },
                          {
                            value: "message-box",
                            label: "MessageBox 弹框",
                          },
                          {
                            value: "notification",
                            label: "Notification 通知",
                          },
                        ],
                      },
                      {
                        value: "navigation",
                        label: "Navigation",
                        children: [
                          {
                            value: "menu",
                            label: "NavMenu 导航菜单",
                          },
                          {
                            value: "tabs",
                            label: "Tabs 标签页",
                          },
                          {
                            value: "breadcrumb",
                            label: "Breadcrumb 面包屑",
                          },
                          {
                            value: "dropdown",
                            label: "Dropdown 下拉菜单",
                          },
                          {
                            value: "steps",
                            label: "Steps 步骤条",
                          },
                        ],
                      },
                      {
                        value: "others",
                        label: "Others",
                        children: [
                          {
                            value: "dialog",
                            label: "Dialog 对话框",
                          },
                          {
                            value: "tooltip",
                            label: "Tooltip 文字提示",
                          },
                          {
                            value: "popover",
                            label: "Popover 弹出框",
                          },
                          {
                            value: "card",
                            label: "Card 卡片",
                          },
                          {
                            value: "carousel",
                            label: "Carousel 走马灯",
                          },
                          {
                            value: "collapse",
                            label: "Collapse 折叠面板",
                          },
                        ],
                      },
                    ],
                  },
                  {
                    value: "ziyuan",
                    label: "资源",
                    children: [
                      {
                        value: "axure",
                        label: "Axure Components",
                      },
                      {
                        value: "sketch",
                        label: "Sketch Templates",
                      },
                      {
                        value: "jiaohu",
                        label: "组件交互文档",
                      },
                    ],
                  },
                ],
              },
              // {
              //   label: "开关",
              //   prop: "switch",
              //   type: "switch",
              //   span: 6,
              //   props: {
              //     // activeColor: "#13ce66",
              //     // inactiveColor: "#ff4949",
              //     activeValue: "100",
              //     inactiveValue: "0",
              //   },
              // },
              {
                label: "时间选择器",
                prop: "time",
                type: "time",
                props: {
                  start: "08:30",
                  step: "00:15",
                  end: "18:30",
                },
              },
              {
                label: "时间选择器2",
                prop: "time2",
                type: "time",
                dataType: "time",
              },
              {
                label: "日期时间选择器",
                prop: "datetime",
                type: "datetime",
                needOptions: true,
                props: pickerOptions,
              },
              {
                label: "日期时间区间",
                prop: "datetimerangetest",
                type: "datetimerange",
                dataType: "array",
                needOptions: true,
              },
              {
                label: "上传",
                prop: "upload",
                type: "upload",
                listType: "text",
                dataType: "array",
                propsHttp: {
                  imgDomain: "http://www.liulongbin.top:3006", //图片前缀，如果需要的话
                  res: "response", //结构体的层次，例如返回data:{url:'',name:''},则res配置为data
                  url: "url", //上传服务器后返回图片的对应字段
                  name: "", //上传服务器后返回图片的对应名字
                  fileName: "", //上传文件流时的名称,
                  data: {}, //上传文件流时附带的参数
                  headers: {}, //上传文件流时附带的请求头
                },
                action: "http://www.liulongbin.top:3006/api/upload/avatar",

                limit: 3,
                fileSize: 2, //文件大小限制,单位M
                fileType: "jpg/jpeg/mp4", //逗号分隔
              },
            ],
          },
          // 搜索栏参数
          query: {
            name: "test",
            sex: "man",
          },
          option: {
            menuWidth: 300,
            height: "auto",
            calcHeight: 60,
            searchShow: true,
            border: true,
            filterBtn: true,
            index: true,
            viewBtn: true,
            selection: true,
            dialogClickModal: false,
            treeLazy: true,
            showSummary: true,
            expand: true,
            dialogDrag: true,
            sumColumnList: [
              {
                label: "我是年龄哦",
                name: "age",
                type: "sum", //sum avg count 合计 / 平均 / 统计
                decimals: 1,
              },
            ],
            column: [
              {
                label: "姓名",
                prop: "name",
                fixed: true,
                addDisabled: true,
                search: true,
                position: "top",
                span: 24,
                rules: [
                  {
                    required: false,
                    message: "请输入姓名好吗？",
                    trigger: "blur",
                  },
                ],
              },
              {
                label: "哈哈嗨！复杂表头",
                children: [
                  {
                    label: "哈哈",
                    prop: "haha",
                    display: false,
                  },
                  {
                    label: "嗨！",
                    prop: "hi",
                    children: [
                      {
                        label: "来了啊",
                        prop: "inComming",
                        type: "select",
                        addDisplay: false,
                        order: 98,
                        value: 0,
                        dicData: [
                          {
                            label: "叉出去",
                            value: 0,
                          },
                          {
                            label: "里面请",
                            value: 1,
                          },
                        ],
                      },
                      {
                        label: "原来你是来用餐的",
                        width: 130,
                        children: [
                          {
                            label: "人称美食家",
                            prop: "laoba",
                            disabled: true,
                            search: true,
                            searchOrder: 99,
                          },
                          {
                            label: "你吃了吗",
                            prop: "welcome",
                            editDisabled: true,
                            editDetail: true,
                          },
                        ],
                      },
                    ],
                  },
                ],
              },
              {
                label: "性别",
                prop: "sex",
                type: "select",
                search: true,
                hide: true,
                filterable: true,
                dataType: "number",
                value: 1,
                dicData: [
                  {
                    label: "男",
                    value: 1,
                  },
                  {
                    label: "女",
                    value: 0,
                  },
                  {
                    label: "谢尔比",
                    value: 2,
                  },
                ],
              },
              {
                label: "我是多选的下拉框喔",
                prop: "selectButMultiple",
                type: "select",
                // search: true,
                searchLabelWidth: 160,
                multiple: true,
                filterable: true,
                dataType: "number",
                value: [1, 0],
                dicData: [
                  {
                    label: "男",
                    value: 1,
                  },
                  {
                    label: "女",
                    value: 0,
                  },
                  {
                    label: "谢尔比",
                    value: 2,
                  },
                ],
              },
              {
                label: "搜索专属",
                prop: "useDisplay",
                searchLabelWidth: 120,
                search: true,
                display: false,
                hide: true,
                labelWidth: 120,
              },
              {
                label: "年龄",
                prop: "age",
                // search: true,
                width: 120,
                showSummary: true,
                sortable: true,
                value: 18,
                type: "number",
                rules: [
                  {
                    required: true,
                    message: "请输入年龄",
                    trigger: "blur",
                  },
                ],
              },
              {
                label: "单纯的单选框",
                prop: "isRadio",
                type: "radio",
                value: 2,
                search: true,
                dicData: [
                  {
                    label: "选项1",
                    value: 1,
                  },
                  {
                    label: "选项2",
                    value: 2,
                  },
                ],
              },
              {
                label: "单选框但按钮",
                prop: "radio",
                search: true,
                labelWidth: 120,
                type: "radio",
                showType: "button",
                value: 1,
                dicData: [
                  {
                    label: "选项1",
                    value: 1,
                  },
                  {
                    label: "选项2",
                    value: 2,
                  },
                ],
              },
              // {
              //   label: "多选框",
              //   prop: "checkbox",
              //   type: "checkbox",
              //   dataType: "array",
              //   // search: true,
              //   value: [2],
              //   dicData: [
              //     {
              //       label: "选项1",
              //       value: 1,
              //     },
              //     {
              //       label: "选项2",
              //       value: 2,
              //     },
              //   ],
              // },
              // {
              //   label: "级联选择器多选",
              //   prop: "cascader",
              //   type: "cascader",
              //   width: 300,
              //   filterable: true,
              //   multiple: true,
              //   // search: true,
              //   dicData: [
              //     {
              //       value: "zhinan",
              //       label: "指南",
              //       children: [
              //         {
              //           value: "shejiyuanze",
              //           label: "设计原则",
              //           children: [
              //             {
              //               value: "yizhi",
              //               label: "一致",
              //             },
              //             {
              //               value: "fankui",
              //               label: "反馈",
              //             },
              //             {
              //               value: "xiaolv",
              //               label: "效率",
              //             },
              //             {
              //               value: "kekong",
              //               label: "可控",
              //             },
              //           ],
              //         },
              //         {
              //           value: "daohang",
              //           label: "导航",
              //           children: [
              //             {
              //               value: "cexiangdaohang",
              //               label: "侧向导航",
              //             },
              //             {
              //               value: "dingbudaohang",
              //               label: "顶部导航",
              //             },
              //           ],
              //         },
              //       ],
              //     },
              //     {
              //       value: "zujian",
              //       label: "组件",
              //       children: [
              //         {
              //           value: "basic",
              //           label: "Basic",
              //           children: [
              //             {
              //               value: "layout",
              //               label: "Layout 布局",
              //             },
              //             {
              //               value: "color",
              //               label: "Color 色彩",
              //             },
              //             {
              //               value: "typography",
              //               label: "Typography 字体",
              //             },
              //             {
              //               value: "icon",
              //               label: "Icon 图标",
              //             },
              //             {
              //               value: "button",
              //               label: "Button 按钮",
              //             },
              //           ],
              //         },
              //         {
              //           value: "form",
              //           label: "Form",
              //           children: [
              //             {
              //               value: "radio",
              //               label: "Radio 单选框",
              //             },
              //             {
              //               value: "checkbox",
              //               label: "Checkbox 多选框",
              //             },
              //             {
              //               value: "input",
              //               label: "Input 输入框",
              //             },
              //             {
              //               value: "input-number",
              //               label: "InputNumber 计数器",
              //             },
              //             {
              //               value: "select",
              //               label: "Select 选择器",
              //             },
              //             {
              //               value: "cascader",
              //               label: "Cascader 级联选择器",
              //             },
              //             {
              //               value: "switch",
              //               label: "Switch 开关",
              //             },
              //             {
              //               value: "slider",
              //               label: "Slider 滑块",
              //             },
              //             {
              //               value: "time-picker",
              //               label: "TimePicker 时间选择器",
              //             },
              //             {
              //               value: "date-picker",
              //               label: "DatePicker 日期选择器",
              //             },
              //             {
              //               value: "datetime-picker",
              //               label: "DateTimePicker 日期时间选择器",
              //             },
              //             {
              //               value: "upload",
              //               label: "Upload 上传",
              //             },
              //             {
              //               value: "rate",
              //               label: "Rate 评分",
              //             },
              //             {
              //               value: "form",
              //               label: "Form 表单",
              //             },
              //           ],
              //         },
              //         {
              //           value: "data",
              //           label: "Data",
              //           children: [
              //             {
              //               value: "table",
              //               label: "Table 表格",
              //             },
              //             {
              //               value: "tag",
              //               label: "Tag 标签",
              //             },
              //             {
              //               value: "progress",
              //               label: "Progress 进度条",
              //             },
              //             {
              //               value: "tree",
              //               label: "Tree 树形控件",
              //             },
              //             {
              //               value: "pagination",
              //               label: "Pagination 分页",
              //             },
              //             {
              //               value: "badge",
              //               label: "Badge 标记",
              //             },
              //           ],
              //         },
              //         {
              //           value: "notice",
              //           label: "Notice",
              //           children: [
              //             {
              //               value: "alert",
              //               label: "Alert 警告",
              //             },
              //             {
              //               value: "loading",
              //               label: "Loading 加载",
              //             },
              //             {
              //               value: "message",
              //               label: "Message 消息提示",
              //             },
              //             {
              //               value: "message-box",
              //               label: "MessageBox 弹框",
              //             },
              //             {
              //               value: "notification",
              //               label: "Notification 通知",
              //             },
              //           ],
              //         },
              //         {
              //           value: "navigation",
              //           label: "Navigation",
              //           children: [
              //             {
              //               value: "menu",
              //               label: "NavMenu 导航菜单",
              //             },
              //             {
              //               value: "tabs",
              //               label: "Tabs 标签页",
              //             },
              //             {
              //               value: "breadcrumb",
              //               label: "Breadcrumb 面包屑",
              //             },
              //             {
              //               value: "dropdown",
              //               label: "Dropdown 下拉菜单",
              //             },
              //             {
              //               value: "steps",
              //               label: "Steps 步骤条",
              //             },
              //           ],
              //         },
              //         {
              //           value: "others",
              //           label: "Others",
              //           children: [
              //             {
              //               value: "dialog",
              //               label: "Dialog 对话框",
              //             },
              //             {
              //               value: "tooltip",
              //               label: "Tooltip 文字提示",
              //             },
              //             {
              //               value: "popover",
              //               label: "Popover 弹出框",
              //             },
              //             {
              //               value: "card",
              //               label: "Card 卡片",
              //             },
              //             {
              //               value: "carousel",
              //               label: "Carousel 走马灯",
              //             },
              //             {
              //               value: "collapse",
              //               label: "Collapse 折叠面板",
              //             },
              //           ],
              //         },
              //       ],
              //     },
              //     {
              //       value: "ziyuan",
              //       label: "资源",
              //       children: [
              //         {
              //           value: "axure",
              //           label: "Axure Components",
              //         },
              //         {
              //           value: "sketch",
              //           label: "Sketch Templates",
              //         },
              //         {
              //           value: "jiaohu",
              //           label: "组件交互文档",
              //         },
              //       ],
              //     },
              //   ],
              // },
              // {
              //   label: "级联选择器",
              //   prop: "cascaderOne",
              //   width: 200,
              //   type: "cascader",
              //   filterable: true,
              //   // search: true,
              //   dicData: [
              //     {
              //       value: "zhinan",
              //       label: "指南",
              //       children: [
              //         {
              //           value: "shejiyuanze",
              //           label: "设计原则",
              //           children: [
              //             {
              //               value: "yizhi",
              //               label: "一致",
              //             },
              //             {
              //               value: "fankui",
              //               label: "反馈",
              //             },
              //             {
              //               value: "xiaolv",
              //               label: "效率",
              //             },
              //             {
              //               value: "kekong",
              //               label: "可控",
              //             },
              //           ],
              //         },
              //         {
              //           value: "daohang",
              //           label: "导航",
              //           children: [
              //             {
              //               value: "cexiangdaohang",
              //               label: "侧向导航",
              //             },
              //             {
              //               value: "dingbudaohang",
              //               label: "顶部导航",
              //             },
              //           ],
              //         },
              //       ],
              //     },
              //     {
              //       value: "zujian",
              //       label: "组件",
              //       children: [
              //         {
              //           value: "basic",
              //           label: "Basic",
              //           children: [
              //             {
              //               value: "layout",
              //               label: "Layout 布局",
              //             },
              //             {
              //               value: "color",
              //               label: "Color 色彩",
              //             },
              //             {
              //               value: "typography",
              //               label: "Typography 字体",
              //             },
              //             {
              //               value: "icon",
              //               label: "Icon 图标",
              //             },
              //             {
              //               value: "button",
              //               label: "Button 按钮",
              //             },
              //           ],
              //         },
              //         {
              //           value: "form",
              //           label: "Form",
              //           children: [
              //             {
              //               value: "radio",
              //               label: "Radio 单选框",
              //             },
              //             {
              //               value: "checkbox",
              //               label: "Checkbox 多选框",
              //             },
              //             {
              //               value: "input",
              //               label: "Input 输入框",
              //             },
              //             {
              //               value: "input-number",
              //               label: "InputNumber 计数器",
              //             },
              //             {
              //               value: "select",
              //               label: "Select 选择器",
              //             },
              //             {
              //               value: "cascader",
              //               label: "Cascader 级联选择器",
              //             },
              //             {
              //               value: "switch",
              //               label: "Switch 开关",
              //             },
              //             {
              //               value: "slider",
              //               label: "Slider 滑块",
              //             },
              //             {
              //               value: "time-picker",
              //               label: "TimePicker 时间选择器",
              //             },
              //             {
              //               value: "date-picker",
              //               label: "DatePicker 日期选择器",
              //             },
              //             {
              //               value: "datetime-picker",
              //               label: "DateTimePicker 日期时间选择器",
              //             },
              //             {
              //               value: "upload",
              //               label: "Upload 上传",
              //             },
              //             {
              //               value: "rate",
              //               label: "Rate 评分",
              //             },
              //             {
              //               value: "form",
              //               label: "Form 表单",
              //             },
              //           ],
              //         },
              //         {
              //           value: "data",
              //           label: "Data",
              //           children: [
              //             {
              //               value: "table",
              //               label: "Table 表格",
              //             },
              //             {
              //               value: "tag",
              //               label: "Tag 标签",
              //             },
              //             {
              //               value: "progress",
              //               label: "Progress 进度条",
              //             },
              //             {
              //               value: "tree",
              //               label: "Tree 树形控件",
              //             },
              //             {
              //               value: "pagination",
              //               label: "Pagination 分页",
              //             },
              //             {
              //               value: "badge",
              //               label: "Badge 标记",
              //             },
              //           ],
              //         },
              //         {
              //           value: "notice",
              //           label: "Notice",
              //           children: [
              //             {
              //               value: "alert",
              //               label: "Alert 警告",
              //             },
              //             {
              //               value: "loading",
              //               label: "Loading 加载",
              //             },
              //             {
              //               value: "message",
              //               label: "Message 消息提示",
              //             },
              //             {
              //               value: "message-box",
              //               label: "MessageBox 弹框",
              //             },
              //             {
              //               value: "notification",
              //               label: "Notification 通知",
              //             },
              //           ],
              //         },
              //         {
              //           value: "navigation",
              //           label: "Navigation",
              //           children: [
              //             {
              //               value: "menu",
              //               label: "NavMenu 导航菜单",
              //             },
              //             {
              //               value: "tabs",
              //               label: "Tabs 标签页",
              //             },
              //             {
              //               value: "breadcrumb",
              //               label: "Breadcrumb 面包屑",
              //             },
              //             {
              //               value: "dropdown",
              //               label: "Dropdown 下拉菜单",
              //             },
              //             {
              //               value: "steps",
              //               label: "Steps 步骤条",
              //             },
              //           ],
              //         },
              //         {
              //           value: "others",
              //           label: "Others",
              //           children: [
              //             {
              //               value: "dialog",
              //               label: "Dialog 对话框",
              //             },
              //             {
              //               value: "tooltip",
              //               label: "Tooltip 文字提示",
              //             },
              //             {
              //               value: "popover",
              //               label: "Popover 弹出框",
              //             },
              //             {
              //               value: "card",
              //               label: "Card 卡片",
              //             },
              //             {
              //               value: "carousel",
              //               label: "Carousel 走马灯",
              //             },
              //             {
              //               value: "collapse",
              //               label: "Collapse 折叠面板",
              //             },
              //           ],
              //         },
              //       ],
              //     },
              //     {
              //       value: "ziyuan",
              //       label: "资源",
              //       children: [
              //         {
              //           value: "axure",
              //           label: "Axure Components",
              //         },
              //         {
              //           value: "sketch",
              //           label: "Sketch Templates",
              //         },
              //         {
              //           value: "jiaohu",
              //           label: "组件交互文档",
              //         },
              //       ],
              //     },
              //   ],
              // },
              {
                label: "开关",
                prop: "switch",
                type: "switch",
                value: "100",
                activeColor: "#13ce66",
                inactiveColor: "#ff4949",
                activeValue: "100",
                inactiveValue: "0",
              },
              {
                label: "上传",
                prop: "upload",
                type: "upload",
                hide: true,
                listType: "text",
                dataType: "array",
                propsHttp: {
                  domain: "http://www.liulongbin.top:3006", //图片前缀，如果需要的话
                  res: "response", //结构体的层次，例如返回data:{url:'',name:''},则res配置为data
                  url: "url", //上传服务器后返回图片的对应字段
                  name: "", //上传服务器后返回图片的对应名字
                  fileName: "", //上传文件流时的名称,
                },
                data: {
                  test: 123,
                }, //上传文件流时附带的参数
                headers: {
                  token: "123",
                }, //上传文件流时附带的请求头
                action: "http://www.liulongbin.top:3006/api/upload/avatar",

                limit: 3,
                fileSize: 2, //文件大小限制,单位M
                accept: "jpg/jpeg", //逗号分隔
              },
              {
                label: "上传但picture-card",
                prop: "uploadPicture",
                type: "upload",
                hide: "true",
                listType: "picture-card",
                action: "http://www.liulongbin.top:3006/api/upload/avatar",
                propsHttp: {
                  domain: "http://www.liulongbin.top:3006",
                  res: "response",
                  url: "url",
                },
                dataType: "array",
              },
              {
                label: "textarea",
                prop: "textarea",
                type: "textarea",
                hide: true,
                search: true,
                span: 24,
                value: "我依家就叼柒你",
              },
              {
                label: "测试使用自定义组件",
                prop: "testCom",
                order: 99,
                span: 24,
                component: "testCom",
                params: {
                  testParams: "窝嫩叠",
                },
              },
            ],
          },
          page: {
            pageSize: 10,
            currentPage: 1,
            total: 0,
          },
          statesList: [],
          states: [
            "Alabama",
            "Alaska",
            "Arizona",
            "Arkansas",
            "California",
            "Colorado",
            "Connecticut",
            "Delaware",
            "Florida",
            "Georgia",
            "Hawaii",
            "Idaho",
            "Illinois",
            "Indiana",
            "Iowa",
            "Kansas",
            "Kentucky",
            "Louisiana",
            "Maine",
            "Maryland",
            "Massachusetts",
            "Michigan",
            "Minnesota",
            "Mississippi",
            "Missouri",
            "Montana",
            "Nebraska",
            "Nevada",
            "New Hampshire",
            "New Jersey",
            "New Mexico",
            "New York",
            "North Carolina",
            "North Dakota",
            "Ohio",
            "Oklahoma",
            "Oregon",
            "Pennsylvania",
            "Rhode Island",
            "South Carolina",
            "South Dakota",
            "Tennessee",
            "Texas",
            "Utah",
            "Vermont",
            "Virginia",
            "Washington",
            "West Virginia",
            "Wisconsin",
            "Wyoming",
          ],
          data: [],
          selectionList: [],
        };
      },
      watch: {
        data(val) {
          console.log("data change", val);
        },
      },
      computed: {
        // 测试权限
        permissionList() {
          return {
            addBtn: true,
            delBtn: true,
            viewBtn: true,
            editBtn: true,
          };
        },
        useDisplayCrudIndex() {
          let index = this.option.column.findIndex((item) => {
            return item.prop == "useDisplay";
          });
          return index;
        },
        useDisplayIndex() {
          let index = this.formOption.column.findIndex((item) => {
            return item.prop == "useDisplay";
          });
          return index;
        },
        sexIndex() {
          return this.formOption.column.findIndex((item) => {
            return item.prop == "sex";
          });
        },
        selectRemoteIndex() {
          return this.formOption.column.findIndex((item) => {
            return item.prop == "selectRemote";
          });
        },
      },
      created() {
        // this.getFormData()
      },

      mounted() {},
      beforeDestroy() {
        // this.$destroy("pForm");
      },
      methods: {
        onFiltered(columns) {
          console.log("我要保存一下", columns);
        },
        sortChange(val) {
          console.log("sortChange", val);
        },
        rowClick(row, event, column) {
          console.log("rowClick row", row);
          console.log("rowClick  event", event);
          console.log("rowClick column", column);
        },
        rowDblclick(row, event) {
          console.log("rowDblclick row", row);
          console.log("rowDblclick  event", event);
        },
        to_document() {
          this.$router.push({
            path: "/document",
          });
        },
        searchReset() {
          this.query = {};
          this.onLoad(this.page);
        },
        searchChange(params, done) {
          this.query = params;
          this.page.currentPage = 1;
          this.onLoad(this.page, params);
          done();
        },
        selectionChange(rows) {
          this.selectionList = rows;
        },
        selectionClear() {
          this.selectionList = [];
          this.$refs.crud.toggleSelection();
        },
        currentChange(currentPage) {
          this.page.currentPage = currentPage;
        },
        sizeChange(pageSize) {
          this.page.pageSize = pageSize;
        },
        rowDelete(row) {
          this.$confirm("你还真敢删我啊?", {
            confirmButtonText: "试试就逝世",
            cancelButtonText: "开玩笑的",
            type: "warning",
          })
            .then(() => {
              console.log("无事发生", row);
            })
            .then(() => {
              this.getListData(this.page);
              this.$message({
                type: "success",
                message: "操作成功!",
              });
            });
        },
        beforeOpen(done, type) {
          // 详情、编辑时你想做的事
          if (["edit", "view"].includes(type)) {
            // 模拟一个请求详情
            setTimeout(() => {
              this.form = {
                id: "123721738723",
                name: `我是详情的name`,
                sex: 0,
                useDisplay: "辣鸡数据",
                age: 24,
                isRadio: 1,
                radio: 1,
                checkbox: [1],
                testCom: "我是自定义的组件喔",
                selectButMultiple: [0, 1],
                cascader: [["zujian", "basic", "layout"]],
                cascaderOne: ["zujian", "form", "radio"],
                switch: "100",
                upload: [
                  {
                    name: "美女哦",
                    url: "https://n.sinaimg.cn/ent/transform/700/w1000h500/20220407/bd69-d515c976b0b5d56b702b634ee91f50ed.jpg",
                  },
                  {
                    name: "卧槽车车",
                    url: "https://auto1.sinaimg.cn/autoimg/car/95/90/131519095_950.JPG",
                  },
                  {
                    name: "好康的",
                    url: "https://1307918980.vod2.myqcloud.com/8a753638vodtranscq1307918980/5959edbc387702303012006247/v.f1417934.mp4",
                  },
                ],
                uploadPicture:
                  "https://auto1.sinaimg.cn/autoimg/car/95/90/131519095_950.JPG",
                haha: "哈哈",
                hi: "嗨！",
                laoba: "客官里面请",
                inComming: "美食家我老八",
                welcome: "肃然起敬",
              };
            }, 1000);
          } else {
            // 新增时你想做的事
            this.form = {
              name: "我就想在新增的时候给name搞个默认值",
            };
          }
          done();
        },
        onLoad(page, params = {}) {
          console.log("onload", page);
          console.log("搜索栏的参数  params", params);
          this.loading = true;
          if (this.data.length != 0) {
            this.data = [];
          }
          for (let i = 0; i < 10; i++) {
            this.data.push({
              id: i + 1,
              name: `姓名${i + 1}`,
              sex: i % 2 == 0 ? 0 : 1,
              useDisplay: "辣鸡数据",
              age: i < 5 ? i + 20 : i + 10,
              isRadio: 1,
              radio: 1,
              selectButMultiple: [0, 1],
              checkbox: [1],
              cascader: [
                ["zhinan", "shejiyuanze", "yizhi"],
                ["zujian", "form", "radio"],
              ],
              cascaderOne: ["zujian", "form", "radio"],
              testCom: "我是自定义的组件喔",
              uploadPicture:
                "https://auto1.sinaimg.cn/autoimg/car/95/90/131519095_950.JPG",
              children: [],
              switch: "100",
              haha: "哈哈",
              hi: "嗨！",
              laoba: "客官里面请",
              inComming: "美食家我老八",
              welcome: "肃然起敬",
            });
          }
          for (let i = 1; i < 50; i++) {
            this.data[1].children.push({
              id: i + 20,
              name: `姓名${i + 20}`,
              sex: i % 2 == 0 ? 0 : 1,
              selectButMultiple: [0, 1],
              useDisplay: "辣鸡数据",
              age: i < 20 ? i + 10 : i - 10,
              isRadio: 2,
              radio: 2,
              checkbox: [1, 2],
              cascader: [["zujian", "basic", "layout"]],
              cascaderOne: ["zujian", "form", "radio"],
              uploadPicture:
                "http://www.liulongbin.top:3006/uploads/1659410093045_f21e01061b914120a6feb61d0f4fefe9.jpg",
            });
          }
          setTimeout(() => {
            this.loading = false;
            this.page.total = 233;
          }, 700);
          setTimeout(() => {
            this.option.column[this.useDisplayCrudIndex].display = true;
          }, 1000);
        },
        getFormData() {
          console.log("this.$refs.form   app", this.$refs.form);
          this.statesList = this.states.map((item) => {
            return { key: item, label: item };
          });
          this.formOption.column[this.selectRemoteIndex].dicData =
            this.statesList;
          setTimeout(() => {
            this.formOption.column[this.useDisplayIndex].display = true;
            this.formOption.column[this.sexIndex].dicData.push({
              label: "不告诉你哼",
              value: 3,
            });
          }, 1000);
        },
        clearForm() {
          this.form = {};
        },
        submit(form, done) {
          console.log("submit  表单提交了", form);
          setTimeout(() => {
            // 模拟请求，1秒后停止禁用，清除缓存和初始化表格
            this.form = {};
            done();
          }, 1000);
        },
        changeFormName() {
          this.form.name1 = "我是从父组件修改的姓名1";
        },
        changeFormValue() {
          this.form.age = 18;
        },
        selectRemoteMethod(key) {
          if (key === "") return;
          let options = [];
          this.formOption.column[this.selectRemoteIndex].loading = true;
          setTimeout(() => {
            if (key != "") {
              options = this.formOption.column[
                this.selectRemoteIndex
              ].dicData.filter((item) => {
                return item.label.toLowerCase().indexOf(key.toLowerCase()) > -1;
              });
              this.formOption.column[this.selectRemoteIndex].dicData = options;
              this.formOption.column[this.selectRemoteIndex].loading = false;
            }
          }, 1000);
        },
        refreshChange() {
          console.log("刷新");
          this.onLoad(this.page);
        },
        test(row, index) {
          console.log("test  row", row);
          console.log("test  index", index);
          alert("你点了测试对吧,数据是" + JSON.stringify(row));
        },
      },
    });
  </script>
</html>
